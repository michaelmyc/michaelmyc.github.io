<!doctype html><html lang=en><head><title>Michael Mao - HUSTL</title><meta name=title content="Michael Mao - HUSTL"><link rel=icon href=/favicon.ico type=image/x-icon><meta name=description content="Open source computer vision tool for creating hyperlapse videos"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:type" content="website"><meta property="og:url" content="https://michaelmao.me/project/hustl/"><meta property="og:title" content="Michael Mao - HUSTL"><meta property="og:description" content="Open source computer vision tool for creating hyperlapse videos"><meta property="og:image" content="hustl-small.mp4"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://michaelmao.me/project/hustl/"><meta property="twitter:title" content="Michael Mao - HUSTL"><meta property="twitter:description" content="Open source computer vision tool for creating hyperlapse videos"><meta property="twitter:image" content="hustl-small.mp4"><link rel=stylesheet href=https://michaelmao.me/scss/main.min.css><script defer src=https://kit.fontawesome.com/13bff49e18.js crossorigin=anonymous></script></head><body><header><div class=widescreen><a href=/ class="unselectable header-title">Michael Mao</a><nav><a class=unselectable href=/>Home</a>
<a class=unselectable href=/blog>Blog</a>
<a class=unselectable href=/project>Project</a>
<a class=unselectable href=/publication>Publication</a>
<a class=unselectable href=/photography>Photography</a></nav></div><div class=mobile><div id=burger-icon-container><div id=burger-icon><div></div><div class=burger-icon-middle></div><div></div></div></div><nav id=burger-menu><a href=/>Home</a>
<a href=/blog>Blog</a>
<a href=/project>Project</a>
<a href=/publication>Publication</a>
<a href=/photography>Photography</a></nav><div id=burger-mask></div></div><script>function preventScroll(e){return e.preventDefault(),e.stopPropagation(),!1}function toggleMenu(){const e=!document.getElementById("burger-menu").classList.contains("open-menu");document.getElementById("burger-icon-container").classList.toggle("open-menu"),document.getElementById("burger-menu").classList.toggle("open-menu"),document.getElementById("burger-mask").classList.toggle("apply-mask"),e?(document.getElementById("burger-mask").addEventListener("wheel",preventScroll),document.getElementById("burger-mask").addEventListener("touchmove",preventScroll),document.getElementById("burger-menu").addEventListener("wheel",preventScroll),document.getElementById("burger-menu").addEventListener("touchmove",preventScroll),document.querySelectorAll("header>div.mobile")[0].addEventListener("wheel",preventScroll),document.querySelectorAll("header>div.mobile")[0].addEventListener("touchmove",preventScroll)):(document.getElementById("burger-mask").removeEventListener("wheel",preventScroll),document.getElementById("burger-mask").removeEventListener("touchmove",preventScroll),document.getElementById("burger-menu").removeEventListener("wheel",preventScroll),document.getElementById("burger-menu").removeEventListener("touchmove",preventScroll),document.querySelectorAll("header>div.mobile")[0].removeEventListener("wheel",preventScroll),document.querySelectorAll("header>div.mobile")[0].removeEventListener("touchmove",preventScroll))}document.getElementById("burger-icon").addEventListener("click",toggleMenu),document.getElementById("burger-mask").addEventListener("click",toggleMenu)</script><script>var lastScrollHeight=0,desktopHeaderOffset;const maxHeaderHeight=160,minHeaderHeight=80;desktopHeaderOffset=0;function setDesktopHeaderStyle(e){truncatedScrollHeight=Math.min(e,maxHeaderHeight),headerHeight=minHeaderHeight+(maxHeaderHeight-minHeaderHeight)*(maxHeaderHeight-truncatedScrollHeight)/maxHeaderHeight,document.querySelectorAll("header>div.widescreen")[0].style.height=`${headerHeight}px`}adjustHeaderStyles=function(){currentScrollHeight=Math.max(document.body.scrollTop,document.documentElement.scrollTop),scrollDelta=currentScrollHeight-lastScrollHeight,setDesktopHeaderStyle(currentScrollHeight,scrollDelta),lastScrollHeight=currentScrollHeight},window.onscroll=adjustHeaderStyles</script></header><div id=content><link rel=stylesheet href=https://michaelmao.me/scss/pages/single.min.css><div class=title><h1>HUSTL</h1><h1 class=subtitle></h1></div><div class=taxonomy-info><div class=tags></div></div><article><p><div class=image-container><picture><video playsinline autoplay loop muted class=dynamic-image src=/project/hustl/hustl.mp4></picture><p class=dark>Hyperlapse processed with HUSTL</p></div></p><p>Links:
<a href=https://github.com/michaelmyc/hustl target=_blank rel=noopener>GitHub Repo</a>
,
<a href=hustl-writeup.pdf target=_blank rel=noopener>Project Writeup</a><br>Members: Michael Mao, Jiaju Ma, James Li<br>Duration: Spring 2019</p><h2 id=overview>Overview</h2><p>Making good hyperlapse videos is difficult. It usually requires photographers to take photos between consistent distance intervals and keep the height of the camera and the direction of the lens steady and smooth. Alternatively, they can mount their camera on expensive steadicams or gimbals. To make creating high-quality hyperlapses easier, we present HUSTL (Hyper-Ultra-Super-Time-Lapse), an open source three-stage software pipeline based on the state of the art academic research papers. Our tool allows users to only provide rough hand-held hyperlapse frames to create a smoothed hyperlapse video.</p><p>This is a class project for Brown University&rsquo;s
<a href=https://cs.brown.edu/courses/info/csci1430/ target=_blank rel=noopener>CS 1430 Computer Vision</a>
class taught by
<a href=https://jamestompkin.com/ target=_blank rel=noopener>Prof. James Tompkin</a>
.</p><h2 id=methodology>Methodology</h2><p>There are 3 major challenges to creating a high-quality hyperlapse video:</p><ol><li>Some frames can be sub-optimal and should be skipped</li><li>Frames may have different white balance, lighting conditions, and some frames may be over-exposed or under-exposed</li><li>Frames need to be aligned to ensure that the camera movement looks smooth</li></ol><p>To deal with these three major issues, we propose a 3-step pipeline: frame selection<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, color matching<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>, and video stabilization<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.</p><p>For more details, please refer to the
<a href=hustl-writeup.pdf target=_blank rel=noopener>project writeup</a>
.</p><p><div class=image-container><picture><source media=(max-width:800px) srcset=/project/hustl/hustl-pipeline_hu337aca995a97d9cbaa151a987ad476a8_69838_800x0_resize_box_3.png><source media=(min-width:800px) srcset=/project/hustl/hustl-pipeline_hu337aca995a97d9cbaa151a987ad476a8_69838_1200x0_resize_box_3.png><source media=(min-width:1200px) srcset=/project/hustl/hustl-pipeline_hu337aca995a97d9cbaa151a987ad476a8_69838_1500x0_resize_box_3.png><img class=dynamic-image src=/project/hustl/hustl-pipeline.png alt='HUSTL pipeline' loading=lazy width=1939 style=aspect-ratio:1939/817></picture><p class=dark>HUSTL pipeline</p></div></p><h2 id=demonstrations>Demonstrations</h2><h3 id=faunce-arch>Faunce Arch</h3><script src=https://player.vimeo.com/api/player.js></script><style>.vimeo-container{display:grid;text-align:center}</style><div style="display:grid;grid-template-columns:1fr 1fr;gap:1em"><div class=vimeo-container><div style="padding:56.25% 0 0;position:relative;justify-self:none"><iframe src="https://player.vimeo.com/video/335471326?h=a82fe09ee9&color=ffffff&title=0&byline=0&portrait=0" style=position:absolute;top:0;left:0;width:100%;height:100% frameborder=0 allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe></div><p class=dark>Baseline</p></div><div class=vimeo-container><div style="padding:56.25% 0 0;position:relative;justify-self:none"><iframe src="https://player.vimeo.com/video/335471168?h=a82fe09ee9&color=ffffff&title=0&byline=0&portrait=0" style=position:absolute;top:0;left:0;width:100%;height:100% frameborder=0 allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe></div><p class=dark>HUSTL</p></div></div><h3 id=soldiers-memorial-gate>Soldiers Memorial Gate</h3><div style="display:grid;grid-template-columns:1fr 1fr;gap:1em"><div class=vimeo-container><div style="padding:56.25% 0 0;position:relative;justify-self:none"><iframe src="https://player.vimeo.com/video/335471673?h=a82fe09ee9&color=ffffff&title=0&byline=0&portrait=0" style=position:absolute;top:0;left:0;width:100%;height:100% frameborder=0 allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe></div><p class=dark>Baseline</p></div><div class=vimeo-container><div style="padding:56.25% 0 0;position:relative;justify-self:none"><iframe src="https://player.vimeo.com/video/335471545?h=a82fe09ee9&color=ffffff&title=0&byline=0&portrait=0" style=position:absolute;top:0;left:0;width:100%;height:100% frameborder=0 allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe></div><p class=dark>HUSTL</p></div></div><h2 id=areas-needing-improvements>Areas Needing Improvements</h2><p>As shown in the demo, even though the camera movements have been smoothed, there are still a few issues degrading the hyperlapse:</p><ol><li>Objects can appear to be warped unnaturally, especially in image corners and especially when the warping needed is significant.</li><li>HUSTL struggles in narrow environments (like hallways) where objects move out of frame relatively quickly compared to an open environment.</li><li>HUSTL may cause unnatural lighting effects and unintended brightness changes when transitioning between well-lit and dimly-lit environments.</li></ol><p>We believe a better video stabilization algorithm (functioning like the &ldquo;Warp Stabilizer&rdquo; in Adobe Premiere) may be better equipped to resolve the first 2 issues. A potential method to resolve the 3rd issue may look like:</p><ol><li>Project the color space to a logarithmic space to reduce risk of information loss when adjusting brightness</li><li>Adjust the images so that the brightness (average brightness) is consistent across all frames</li><li>Run the images through the HUSTL color consistency pipeline</li><li>Project the logarithmic space back to the normal linear color space</li></ol><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Neel Joshi, Wolf Kienzle, Mike Toelle, Matt Uyttendaele, and Michael F. Cohen.
<a href=https://dl.acm.org/doi/10.1145/2766954 target=_blank rel=noopener>Real-Time Hyperlapse Creation via Optimal Frame Selection</a>
<em>ACM Transactions on Graphics</em>, 2015&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Jaesik Park, Yu-Wing Tai, Sudipta Sinha, and In So Kweon.
<a href=https://www.microsoft.com/en-us/research/publication/efficient-color-consistency-for-community-photos/ target=_blank rel=noopener>Efficient and Robust Color Consistency for Community Photo Collections</a>
<em>Computer Vision and Pattern Recognition (CVPR)</em>, 2016&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>Shuaicheng Liu, Lu Yuan, Ping Tan, and Jian Sun.
<a href=https://dl.acm.org/doi/10.1145/2461912.2461995 target=_blank rel=noopener>Bundled Camera Paths for Video Stabilization</a>
<em>ACM Transactions on Graphics</em>, 2013&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article></div><footer class=unselectable><div class=contact-icons-container><div class=contact-icon><a href='https://scholar.google.com/citations?user=uTEhFhkAAAAJ&amp;hl=en' target=_blank rel=noopener><i class="fa-solid fa-graduation-cap"></i></a></div><div class=contact-icon><a href=https://github.com/michaelmyc target=_blank rel=noopener><i class="fa-brands fa-github"></i></a></div><div class=contact-icon><a href=https://www.linkedin.com/in/yicong-michael-mao/ target=_blank rel=noopener><i class="fa-brands fa-linkedin-in"></i></a></div><div class=contact-icon><a href=https://twitter.com/michaelmaoyc target=_blank rel=noopener><i class="fa-brands fa-twitter"></i></a></div><div class=contact-icon><a href=https://www.instagram.com/michaelmaoyc/ target=_blank rel=noopener><i class="fa-brands fa-instagram"></i></a></div></div><span>Made by Michael Mao</span>
<span>Feel free to steal the <a href=https://github.com/michaelmyc/michaelmao.me target=_blank rel=noopener>code</a> of my website</span></footer></body></html>